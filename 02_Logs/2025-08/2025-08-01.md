
---

## ‚úÖ What I Did Today
- 

---

## üìö What I Learned
### Misc
- `git stash -u` the `-u` flag also stash the untracked file not in `.gitignore`
- `git stash -a` will stash everything even the untracked thing
### Node
- `--trace-*`for internal
- `async_hooks` to trace async lifecycle
### Deno
- prefix `npm:` when import package, deno do not need to manually do `npm install`
- deno enable security feature by default, you need to set flag to allow interact with outter environment
- `deno add` adds the dependency from jsr, the registry manage by deno team
- `--v8-flags=...` for V8 internals
- `RUST_LOG=debug` to trace Rust runtime internals
- `Deno.metrics()` and `Deno.inspect()` fro runtime ops
### How tailwind work behind the scene 
- It have it's own compiler do the things below
	- It loads the input css file, and dump the setting of each class using the default one and the configured one
	- after tailwind generate that css file in buffer, it use `postcss` to run plugins like `autoprefixer` which is to support legacy browser or browser specific attribute or value with vendor prefix
	- generate the real file in the file system
- The input css will never reach the html, so html should only link the output one.
### How PostCSS work?
- It just run several plugin for developer automation
- Use `autoprefixer` as example:
	- It get the `browserlist` from `package.json`
	- Use `browserlist` cli to get back a list of supported browser
	- Loop through entire css file and check for each attribute
	- Run `caniuse-lite` to get the support mapping for each css attribute to browser engine
	- Update the css file based on the result, it may add more attribute with the vendor prefix, or add a line of attribute with the different but mostly with vendor prefix
### How devDependencies and dependencies behave differently
- They are just the same
- When `npm install`, it will automatically install both
- When add flag `--production` it ignore the dev dependencies
- `npm install` install dependencies according to `package.json`, and also update the package and update package-lock.json
- `npm ci` install dependencies based on package-lock.json, it will even entirely remove the `node_modules` if exist
### What do vender prefix do
- In browser, there is a component for rendering. Also knowns as browser engine, layout engine or rendering engine
- Each browser use different rendering engine:
	- safari use webkit
	- chrome use blink which is a fork of webkit
	- Internet explorer use Trident or called MSHTML
	- Mozilla use Gecko
- The attribute key or value are only recognizable for each relevant browser engine
### Javascript runtime architecture
- V8 (Javascript Engine): 
	- Parses JS to AST
	- Ignition directly interpret AST to bytecode
	- TurboFan turn bytecode into machine code if needed
- Embedding Layer (Runtime)
	- Glues JS to the OS
	- Provides event loop, timers, native bindings, global object
	- Embedded API provide features outside ECMAScript
- Platform Abstraction Layer (libuv in Node)
	- Handles threads, file I/O, networking, timers, etc
### What is Javascript
- It's the combination of ECMAScript + Host APIs
- V8 engine is the implementation of compiler, interpreter for ECMAScript written in C++ as library
- Host APIs varies from runtime, Browser, Node, Deno
### Javascript is single threaded
- ECMAScript has no built-in threads
- It only have one call stack, no shared memory model
- Javascript is multi threaded because Node has a thread pool, Browsers use Web Workers, Deno use Tokio written in rust
- Technically, ECMAScript is single threaded, javascript mostly is multithread, depends on runtime, d8 is a single threaded runtime
### How javascript got run
- Runtime got execute, boots V8
- Embedding layers sets up globals
- Javascript code pass to V8, runs in V8
- V8 calls embedded API if needed
- Embedded API do syscall if needed
### Browser architecture
- Browser is a program that encapsulate several component, it's a platform that runs browser runtime
	- browser engine - mainly for styling, loads html to build dom tree, load css to render style
	- Javascript engine - parse javascript, compile javascript, interpret the code, execute the code
	- Embedded APIs
		- DOM APIs
		- Web APIs
		- Event loop, task queues
		- Web Workers
		- Sandbox

---

## ‚ùì Questions That Came Up
- [ ] What do single thread language means? Since even C or C++ needs to handle concurrent job manually, javascript also have threading and child processing feature
- [ ] What is the word parse and compile different from each other?
- [ ] Can I replace user-agent to any custom value?
- [ ] How software and hardware codec different from each other?
- [ ] What is UI toolkit for os?
- [ ] What is the difference between registry and repository
- [ ] How to create a simple bundler or build tool
- [ ] Why `setTimeout` is that important?

---

## üß† Quick Notes / Brain Dump
- 

---

## ü™ú Next Steps / Follow-ups
- 